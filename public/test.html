<html>
<head>
	<title>DataStrophe</title>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<link rel="stylesheet" type="text/css" href="style/jquery.fullPage.css" />
	<link rel="stylesheet" type="text/css" href="style/style.css" />

	<script src="script/jquery-1.11.2.min.js"></script>

	<!-- This following line is needed only in case of using other easing effect rather than "linear", "swing" or "easeInQuart". You can also add the full jQuery UI instead of this file if you prefer -->
	<script src="script/jquery.easings.min.js"></script>


	<!-- This following line needed in the case of using the plugin option `scrollOverflow:true` -->
	<script type="text/javascript" src="script/jquery.slimscroll.min.js"></script>

	<script type="text/javascript" src="script/jquery.fullPage.js"></script>
	<script type="text/javascript" src="script/datastrophe.js"></script>
	<script type="text/javascript" src="script/conveyorbelt.js"></script>
	<script type="text/javascript" src="script/ResourceLoader.js"></script>
	<script type="text/javascript" src="script/movements.js"></script>
	<script type="text/javascript">
	var c;
	var div;
	$(document).ready(function(){
	
	document.location.href = "#";
		var t = new DataStrophe(0);
		t.onLoad = function(){
			c = new ConveyorBelt(t, $("#s1_canvas")[0]);
			$.fn.fullpage.reBuild();
			c.onStartMovement = function(id){
				console.log("Mouvement vers : "+id);
			}
			c.onStopMovement = function(id){
				console.log("Stop vers : "+id);
			}
		//$("#fullpage")[0].removeChild(div);
		}
		
		div = $(".s1")[0];
		
		$('#fullpage').fullpage({
		 anchors: ['firstPage', 'secondPage', 'thirdPage', 'fourthPage', 'lastPage'],
    menu: '#myMenu',
			onSlideLeft: function(){ c.moveLeft()},
			onSlideRight: function(){ c.moveRight()}
		});
		
	});
	
	</script>
</head>
<body>
<div id="fullpage">
    <div class="section s1">
		<div class="header">
			test
			<input type="button" onClick="c.moveLeft();" value="Left"/>
			<input type="button" onClick="c.moveRight();" value="Right"/><br/>
			
			<input type="button" onClick="c.moveTo(0);" value="Sac"/>
			<input type="button" onClick="c.moveTo(1);" value="Soda"/>
			<input type="button" onClick="c.moveTo(2);" value="Pomme"/>
			<input type="button" onClick="c.moveTo(3);" value="Vin"/>
		</div>
		<div class="canvas" id="s1_canvas">

		</div>
		<div class="databloc">
			<div id="g1">
			</div>
			<div id="g2">
			</div>
			<div id="g3">
			</div>
		</div>
	</div>
    <div class="section s2">Some section</div>
    <div class="section s3">
		<div class="header">
			test
		</div>
		<div class="test">
			.mapbloc
		</div>
	</div>
    <div class="section s4">Some section</div>
</div>
<ul id="myMenu">
    <li data-menuanchor="firstPage" class="active"><a href="#firstPage">First section</a></li>
    <li data-menuanchor="secondPage" class="s2b"><a href="#secondPage">Second section</a></li>
    <li data-menuanchor="thirdPage"><a href="#thirdPage">Third section</a></li>
    <li data-menuanchor="fourthPage"><a href="#fourthPage">Fourth section</a></li>
</ul>
</body>
</html>